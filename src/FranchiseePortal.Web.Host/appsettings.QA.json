{
  "App": {
    "ServerRootAddress": "https://ipaas-franchiseeportal-qa-useast-api.azurewebsites.net/",
    "ClientRootAddress": "https://franchiseeportal-qa-useast-app.azurewebsites.net/",
    "CorsOrigins": "https://franchiseeportal-qa-useast-app.azurewebsites.net,https://www-stage.i-goddard.com",
    "PageBaseUrl": "https://www-qa.goddardschool.com/",
    "Tours": {
      "Enabled": "True"
    },
    "Leads": {
      "APIUrl": "https://ipaas-qa-useast-apim.azure-api.net/leads"
    },
    "SiteMarketingTools": {
      "Enabled": "True"
    }
  },
  "ApplicationInsights": {
    // Not considered a secret: https://learn.microsoft.com/en-us/azure/azure-monitor/app/sdk-connection-string?tabs=dotnet5#is-the-connection-string-a-secret
    // QA - ipaas-franchiseeportal-qa-useast-api    
    "ConnectionString": "InstrumentationKey=7b2f33f9-0f34-42b8-bbfe-eeba04c0ec72;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/"
  },
  "HealthChecks": {
    "HealthChecksEnabled": true,
    "HealthChecksUI": {
      "HealthChecksUIEnabled": false,
      "HealthChecks": [
        {
          "Name": "FranchiseePortal.Web.Host",
          "Uri": "https://ipaas-franchiseeportal-qa-useast-api.azurewebsites.net/health"
        }
      ],
      "EvaluationTimeOnSeconds": 10,
      "MinimumSecondsBetweenFailureNotifications": 60
    }
  },
  "Serilog": {
    "WriteTo": [
      {
        "Name": "Async",
        "Args": {
          "configure": [
            // 0 - Console sink
            {
              "Name": "Console",
              "Args": {
                "outputTemplate": "{Timestamp:yyyy-MM-ddTHH:mm:ss.fffffff} [{MachineName}/P{ProcessId}/D{AppDomainId}/T{ThreadId}] *{Level:u3}* [{HttpRequestId}] {SourceContext} {Message:lj}{NewLine}{Exception}",
                "restrictedToMinimumLevel": "Information"
              }
            },
            // 1 - File sink
            // Writing to the Azure Diagnostics Log Stream
            // based on: https://github.com/serilog/serilog-aspnetcore#writing-to-the-azure-diagnostics-log-stream
            {
              "Name": "File",
              "Args": {
                "path": "%HOME%/LogFiles/Applications/diagnostics.txt",
                "rollingInterval": "Day",
                "fileSizeLimitBytes": 10485760,
                "retainedFileCountLimit": 2,
                "rollOnFileSizeLimit": true,
                "shared": true,
                // flushToDiskInterval is in seconds.
                // credit: https://stackoverflow.com/a/59473826
                "flushToDiskInterval": 1
              }
            },
            // 2 - AI sink
            {
              "Name": "ApplicationInsights",
              "Args": {
                // Not considered a secret: https://learn.microsoft.com/en-us/azure/azure-monitor/app/sdk-connection-string?tabs=dotnet5#is-the-connection-string-a-secret
                // QA - ipaas-franchiseeportal-qa-useast-api
                "connectionString": "InstrumentationKey=7b2f33f9-0f34-42b8-bbfe-eeba04c0ec72;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/",
                "telemetryConverter": "Goddard.AspNetCore.Logging.ApplicationInsights.CustomTraceTelemetryConverter, Goddard.AspNetCore.Instrumentation"
              }
            }
          ]
        }
      }
    ]
  }
}
